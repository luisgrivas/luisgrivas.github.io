---
title: "Problema 6 IMO 2024" 
date: 2025-06-15 17:58:00
draft: false
tags: ["olimpiada"]
---

En el examen de la [IMO 2024](https://www.imo-official.org/default.aspx)
se present贸 el siguiente problema:

> **Problema 6**. Una funci贸n $f: \mathbb Q \rightarrow \mathbb Q$ se llama
> acuaesuliana si se satisface la siguiente propiedad: para cada $x, y \in \mathbb Q$,
$$
\begin{align}
f(x + f(y)) = f(x) + y &\text{ o } f(f(x) + y) = x + f(y)
\end{align}
$$
> Demostrar que existe un entero positivo $c$ tal que para toda funci贸n acuaesuliana 
> $f$ hay a lo m谩s $c$ n煤meros racionales distintos de la forma $f(r) + f(-r)$ para 
> alg煤n racional $r$, y encontrar el menor valor posible de $c$.

Debo decir que mi primera impresi贸n fue que este problema ser铆a f谩cil de resolver,
pues si una funci贸n $f$ satisface solo una de las propiedades, la funci贸n 
$f$ es necesariamente una funci贸n lineal o una involuci贸n (m谩s de esto despu茅s). 
La realidad es que me llev贸 unos cuantos d铆as resolverlo. 

## Soluci贸n
Una estrategia habitual para resolver problemas de ecuaciones funcionales es 
introducir valores a la ecuaci贸n o aprovechar sus simetr铆as para que esta se 
reduzca a formas m谩s sencillas. En este caso, por tratarse de una disyunci贸n,
conviene buscar valores particulares de $x$ y $y$ donde ambas expresiones posibles
se vuelvan equivalentes o revelen alguna regularidad.

El plan para solucionar este problema consiste en los siguientes pasos:
1. Deduciremos ciertas ecuaciones funcionales aprovechando la simetr铆a de las
funciones acuaesuliana.
2. Hallaremos que $f(0) = 0$.
3. Demostraremos que $f(-(-x)) = x$ para toda $x \in \mathbb Q$.
4. Mostraremos que $f$ es una funci贸n inyectiva.
5. Finalmente, acotaremos el n煤mero de racionales de la forma $f(r) + f(-r)$.

**Demostraci贸n**. Sea $f$ una funci贸n acuaesuliana y sean $x, y \in \mathbb Q$.

***Paso 1.*** En primer lugar, para la pareja $(x, x)$, la hip贸tesis implica que
$$f(x + f(x)) = f(x) + x \quad \text{o} \quad f(f(x) + x) = x + f(x).$$
Es decir, siempre se cumple que $f(x + f(x)) = f(x) + x$. 

Por hip贸tesis, para la pareja $(f(x) + x, f(-x) - x)$, se obtiene que
$$
\begin{align}
f(f(x) + x + f(f(-x) - x)) &= f(f(x) + x) + f(-x) - x \\\\
&\text{ o }\\\\
f(f(f(x) + x) + f(-x) - x) &= f(x) + x + f(f(-x) - x), \\\\
\end{align}
$$
si y solo si
$$
f(f(x) + f(-x)) = f(x) + f(-x),
$$
donde la 煤ltima consecuencia se obtiene del hecho de que $x + f(x)$ es punto fijo de $f$.

Tambi茅n, para la pareja $(x, f(x))$, se tiene que 
$$
f(x + f(f(x))) = f(x) + f(x) \quad \text{o} \quad f(f(x) + f(x)) = x + f(f(x)),
$$
por lo que 
$$
f(x + f(f(x))) = 2 f(x) \quad \text{o} \quad f(2f(x)) = x + f(f(x)).
$$

***Paso 2***. Con lo anterior, estamos en disposici贸n para afirmar que 
$$f(z) = 0 \quad \Longleftrightarrow \quad z = 0.$$ 

Para esto, dado que $f(x + f(x)) = x + f(x)$, si $x = 0$, entonces $f(0 + f(0)) = 0 + f(0)$, por lo que $f(f(0)) = f(0)$.
Y por otro lado, dado que $f((x) + f(-x)) = f(x) + f(-x)$, entonces
$f(f(0) + f(-0)) = f(2f(0)) = f(0) + f(-0) = 2f(0)$.

Analicemos qu茅 sucede si alguna de las ecuaciones $f(x + f((x))) = 2f(x)$ o $f(2f(x)) = x + f(f(x))$
se satisface para $x = 0$.

Por un lado, suponga que $f(0 + f(f(0))) = 2f(0)$. Lo anterior implica que $f(0) = 2f(0)$, 
es decir, $f(0) = 0$.

Y si $f(2f(0)) = 0 + f(f(0))$, entonces $f(2f(0)) = f(0) = 2f(0)$. Por lo que $f(0) = 0$.

Conversamente, supongamos que $f(x) = 0$. Entonces $f(x + f(x)) = f(x) = 0 $ y $f(x + f(x)) =  x + f(x) = x$,
por lo que $x = 0$.

En conclusi贸n, $f(x) = 0$ si y solo si $x = 0$.锔

***Paso 3***. Por otra parte, afirmamos que
$$f(-f(-x)) = x.$$
Para esto, considere la pareja $(-x, -f(-x))$ y
note que 
$$
f(-x + f(-f(-x))) = f(-x) - f(-x) \quad \text{o} \quad f(f(-x) - f(-x)) = -x + f(-f(-x)).
$$
De manera que 
$$
f(-x + f(-f(-x))) = 0 \quad \text{o} \quad f(0) = -x + f(-f(-x)).
$$

Puesto que $f(z) = 0$ si y solo si $z = 0$, lo anterior se reduce a $-x + f(-f(-x)) = 0$, o en otras palabras $x = f(-f(-x))$. 
Esto muestra que **$f$ es sobreyectiva**. 锔

***Paso 4.*** Para demostrar que $f$ es inyectiva, necesitamos el siguiente resultado. Por hip贸tesis,
para la pareja $(x, -f(y))$ encontramos que
$$ f(x + f(-f(y)) = f(x) - f(y) \quad \text{o} \quad f(f(x) - f(y)) = x + f(-f(y)). $$
Utilizando el hecho de que $f(-f(y)) = -y$, lo anterior se simplifica a 
$$
f(x - y) = f(x) - f(y) \quad \text{o} \quad f(f(x) - f(y)) = x -y.
$$

Si $f(x) = f(y)$, entonces $f(x - y) = 0$ o $f(0) = x - y$. Como el cero es el 煤nico
elemento mapeado al cero, se tiene que $x = y$. Por tanto **$f$ es inyectiva**.锔

***Paso 5***. Para recapitular, hasta el momento hemos mostrado que toda funci贸n
acuaesuliana es inyectiva, sobreyectiva y satisface que $f(0) = 0$.
No obstante, a煤n nos falta responder lo que nos pide el problema
驴cu谩ntos racionales de la forma $f(r) + f(-r)$ hay? Procedamos con la soluci贸n.

Sean $r,s$ racionales distintos y haga $p = f(r) + f(-r)$
y $q = f(s) + f(-s)$. Anteriormente, mostramos que 
$$
f(r - s) = f(r) - f(s) \quad \text{o} \quad f(f(r) - f(s)) = r - s.
$$
Consideremos estos dos casos por separado.

***Caso 1. Se cumple que $f(r - s) = f(r) - f(s)$.***
Apliquemos la hip贸tesis a la pareja $(r - s, -f(-s))$ para obtener

$$
\begin{align}
f(r - s + f(-f(-s))) &= f(r - s) - f(-s) \\\\
&\text{o}\\\\
f( f(r - s) - f(-s)) &= r - s + f(-f(-s)).
\end{align}
$$

Dado que $f(-f(-s)) = s$, lo anterior se simplifica a 

$$
f(r) = f(r) - q \quad \text{o} \quad f(f(r) - q ) = r.
$$

El caso de la izquierda simplemente dice que $q = 0$. Y si $f(f(r) - q) = r$, dado
que $f(-f(-r)) = r$ y $f$ **es inyectiva**, se tiene que 
$$f(r) - q = - f(-r).$$
O en otras palabras $p = q$.

***Caso 2. Se cumple que $f(f(r) - f(s)) = r - s.$*** Si aplicamos la hip贸tesis
a la pareja $(f(r) - f(s), -r)$, se obtiene que

$$
\begin{align}
f(f(r)- f(s) + f(-r)) &= f(f(r) - f(s)) - r \\\\
&\text{o}\\\\
f( f(f(r) - f(s)) - r) &= f(r) - f(s) + f(-r).
\end{align}
$$

Y esto se simplifica a 
$$
f(p - f(s)) = -s \quad \text{o} \quad f(-s) = p - f(s).
$$

En el primer caso, dado que $f(-f(s)) = -s $ y $f$ **es inyectiva**, se obtiene
que $p - f(s) = -f(s)$, es decir, $p = 0$.

Y, finalmente, el 煤ltimo caso implica que $p = q$. 

驴Qu茅 hemos mostrado? Hemos considerado dos racionales de la forma $p = f(r) + f(-r)$
y $q = f(s) + f(-s)$, y encontramos que siempre ocurre una de dos posibilidades: 
o alguno de ellos es cero, o bien son iguales. En conclusi贸n, para cualquier funci贸n
acuaesuliana existen **a lo m谩s dos racionales** de la forma $f(r) + f(-r)$. 

## Comentarios adicionales
Aunque la soluci贸n anterior parece ser correcta, no hemos aprovechado por completo
todas las propiedades que conocemos de una funci贸n acuaesuliana.
Como mencion茅 en la intruducci贸n, si para cualesquiera $x, y \in \mathbb Q$,
se satisface la ecuaci贸n 
$$f(x + f(y)) = f(x) + y,$$
entonces $f$ debe ser necesariamente lineal y es de la forma $f(x) = x$ o $f(x) - x$.
Por otro lado, si se satisface que 
$$f(f(x) + y) = x + f(y),$$
entonces $f$ debe ser una involuci贸n, y es necesariamente de la forma $f(x) = x$ o $f(x) = -x$.
Mi primera impresi贸n fue que este problema se podr铆a resolver utilizando estas
observaciones.

Por otra parte, observemos que si $p$ y $q$ son puntos fijos de $f$, entonces
aplicando la definici贸n se tiene que
$$f(p + f(q)) = f(p) + q \quad \text{o} \quad f(f(p) + q) = p + f(q).$$

En ambos casos, encontramos que $f(p + q) = p + q$, es decir, la suma de dos puntos 
fijos es tambi茅n un punto fijo. Adem谩s, puesto que $f(-f(p)) = -p$, entonces
$f(-p) = -p$. En conclusi贸n, **toda combinaci贸n lineal de puntos fijos es un punto fijo.**

Con esto en mente, puesto que $f(r) + f(-r)$ es un punto fijo de toda funci贸n
acuaesuliana, mi intenci贸n inicial fue utilizar esta estructura de $f$ sobre el conjunto
de combinaciones lineales de sus puntos fijos para encontrar una soluci贸n.
No obstante, este camino result贸 ser un callej贸n sin salida. Tal vez, en otro momento
y con nuevos ojos, este problema pueda ser resuelto a partir de estas ideas.
